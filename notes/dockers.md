## 主要内容
----

[TOC]

## Docker的九种应用场景
----

1. 本地依赖

**你需要在本地系统快速尝试某个应用或者需要使用某个服务？希望尝试很多不同的第三方开源项目？使用Docker可以节省大量时间，快速完成环境的搭建。**

2. 搭建环境

**构建源代码，但是没有准备好合适的环境？使用Docker是一个可以考虑的方案！安装省时省力！**

而且使用Docker可以降低对环境的耦合度要求。

3. 微服务

**微服务将一个整体式的应用拆分为松耦合的多个服务**

使用Docker将每个服务打包成一个Docker镜像并使用Docker-compose来模拟生产环境，长远可以产生巨大的生产力。

4. 自动测试

**试想这样一个问题，如何编写自动化的集成测试用例，这些测试用例无需花很长时间来开始运行，使用者也可轻松管理。**

这里不是指在 Docker 中运行测试用例，而是将测试用例与镜像紧密运行在一起。当你针对一个 docker 镜像编写测试用例时会有一个很大的优势。下面简单介绍一下我的测试流程：运行两个 docker 镜像(app + db)，在 MySQL 启动时加载数据，并在 app docker 上使用 API。可查看此脚本以获取快速的示例。

5. 部署过程

**使用 docker 镜像进行自我部署。主流的主机提供商都支持托管 docker，如果你拥有一个具有 shell 访问权限的专用节点/vm，那么事情将变得更容易。只需要设置好 docker，并在你想要的端口上运行你的镜像即可。**

6. 持续部署

**Docker 天生适合持续集成/持续部署，在部署中使用 Docker，持续部署将变得非常简单，并会在进入新的镜像后重新开始。**

关于这个部分的自动化工作，现在已经有许多方案以供选择，Kubernetes 就是一个耳熟能详的名字。Kubernetes是容器集群管理系统，是一个开源的平台，可以实现容器集群的自动化部署、自动扩缩容、维护等功能。

7. **多租户环境**

**Docker 有意思的一个使用场景是在多租户的应用中，它可以避免关键应用的重写。如果你将应用程序服务公开给多个租户（租户指一组用户，例如组织），使用单租户方案设计的应用程序如果用上了 sub-domain + docker 可以快速获得提供多租户的服务。**

关于这个场景的一个例子是为物联网的应用开发一个快速、易用的多租户环境。这种多租户的基本代码非常复杂，很难处理，重新规划这样一个应用不但消耗时间，也浪费金钱。使用 Docker，可以为每一个租户的应用层的多个实例创建隔离的环境，这不仅简单而且成本低廉，当然这一切得益于 Docker 环境的启动速度和其高效的 diff 命令。

8. 来自一台机器的多个APP（Multiple Apps from one machine）

**这与上面提到的微服务有些联系，但即使你没有使用微服务，只是提供服务，Docker 仍可以很好地管理单个机器上的所有服务。你应该使用文件夹挂载来为每个基于数据的 docker 镜像保留数据。**

9. 扩容QPS（Scaling QPS）

**Docker 通过创建另一个容器来帮助你轻松地进行水平扩展。如果遇到巨大的高峰流量，Docker 可以帮助你解决问题 —— 只需添加更多的机器并增加负载均衡器背后运行的容器数量。**
